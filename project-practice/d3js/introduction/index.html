<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>D3jså…¥é—¨ | ä¼šé£çš„é±¼ğŸŸ</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="å­¦ä¹ ç¬”è®°">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.5fc96bdf.js" as="script"><link rel="preload" href="/assets/js/2.56cd01f5.js" as="script"><link rel="preload" href="/assets/js/8.eef37b1f.js" as="script"><link rel="prefetch" href="/assets/js/10.3ea21215.js"><link rel="prefetch" href="/assets/js/11.f2af6ae8.js"><link rel="prefetch" href="/assets/js/12.644b56f9.js"><link rel="prefetch" href="/assets/js/13.321b16b6.js"><link rel="prefetch" href="/assets/js/14.c75e2d6b.js"><link rel="prefetch" href="/assets/js/15.5b62c749.js"><link rel="prefetch" href="/assets/js/16.1365c67d.js"><link rel="prefetch" href="/assets/js/17.b89f8d5a.js"><link rel="prefetch" href="/assets/js/18.c2b2881c.js"><link rel="prefetch" href="/assets/js/19.793ae888.js"><link rel="prefetch" href="/assets/js/20.ceb40dc7.js"><link rel="prefetch" href="/assets/js/21.3872ab50.js"><link rel="prefetch" href="/assets/js/22.cdd80890.js"><link rel="prefetch" href="/assets/js/23.b89f5df5.js"><link rel="prefetch" href="/assets/js/24.00cc879e.js"><link rel="prefetch" href="/assets/js/25.e7d9e711.js"><link rel="prefetch" href="/assets/js/26.38dfa295.js"><link rel="prefetch" href="/assets/js/27.42e5a51b.js"><link rel="prefetch" href="/assets/js/28.f29c5a5a.js"><link rel="prefetch" href="/assets/js/29.9c1152d0.js"><link rel="prefetch" href="/assets/js/3.5ad5b76e.js"><link rel="prefetch" href="/assets/js/30.fb98a7fd.js"><link rel="prefetch" href="/assets/js/31.587a4c4e.js"><link rel="prefetch" href="/assets/js/32.07d3f2a3.js"><link rel="prefetch" href="/assets/js/33.330ca2ab.js"><link rel="prefetch" href="/assets/js/34.644b8fec.js"><link rel="prefetch" href="/assets/js/35.2a59dd03.js"><link rel="prefetch" href="/assets/js/36.f24a64fb.js"><link rel="prefetch" href="/assets/js/37.4c48b883.js"><link rel="prefetch" href="/assets/js/38.e2ef6b4b.js"><link rel="prefetch" href="/assets/js/39.560ec89f.js"><link rel="prefetch" href="/assets/js/4.a64d0739.js"><link rel="prefetch" href="/assets/js/40.e9e6f1a1.js"><link rel="prefetch" href="/assets/js/41.c2b76d48.js"><link rel="prefetch" href="/assets/js/42.a837ca06.js"><link rel="prefetch" href="/assets/js/43.e6231a11.js"><link rel="prefetch" href="/assets/js/44.a06340cd.js"><link rel="prefetch" href="/assets/js/45.2e753f17.js"><link rel="prefetch" href="/assets/js/46.67d5bfd7.js"><link rel="prefetch" href="/assets/js/47.79d98f76.js"><link rel="prefetch" href="/assets/js/48.a27665a5.js"><link rel="prefetch" href="/assets/js/49.61035e35.js"><link rel="prefetch" href="/assets/js/5.05ac1e95.js"><link rel="prefetch" href="/assets/js/50.23d10ba5.js"><link rel="prefetch" href="/assets/js/51.ffd94a50.js"><link rel="prefetch" href="/assets/js/52.72645a49.js"><link rel="prefetch" href="/assets/js/53.fddcc9c3.js"><link rel="prefetch" href="/assets/js/54.29a19228.js"><link rel="prefetch" href="/assets/js/55.9dd56225.js"><link rel="prefetch" href="/assets/js/56.97ccbdc2.js"><link rel="prefetch" href="/assets/js/57.b5653684.js"><link rel="prefetch" href="/assets/js/58.5022402f.js"><link rel="prefetch" href="/assets/js/59.2788a4dc.js"><link rel="prefetch" href="/assets/js/6.2caff082.js"><link rel="prefetch" href="/assets/js/60.3a36e8b6.js"><link rel="prefetch" href="/assets/js/61.a58c0429.js"><link rel="prefetch" href="/assets/js/62.22142950.js"><link rel="prefetch" href="/assets/js/63.eb63df3a.js"><link rel="prefetch" href="/assets/js/64.5410a8b2.js"><link rel="prefetch" href="/assets/js/65.05534a28.js"><link rel="prefetch" href="/assets/js/66.345d568d.js"><link rel="prefetch" href="/assets/js/67.6d6c908d.js"><link rel="prefetch" href="/assets/js/68.48f8f647.js"><link rel="prefetch" href="/assets/js/69.0880f127.js"><link rel="prefetch" href="/assets/js/7.92af244d.js"><link rel="prefetch" href="/assets/js/70.6190682a.js"><link rel="prefetch" href="/assets/js/71.aef1621f.js"><link rel="prefetch" href="/assets/js/72.701beefb.js"><link rel="prefetch" href="/assets/js/73.5049b0f0.js"><link rel="prefetch" href="/assets/js/74.951b2541.js"><link rel="prefetch" href="/assets/js/75.a448589d.js"><link rel="prefetch" href="/assets/js/76.5245fdac.js"><link rel="prefetch" href="/assets/js/77.f76382e3.js"><link rel="prefetch" href="/assets/js/78.df1f1d7c.js"><link rel="prefetch" href="/assets/js/9.e99284fe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ä¼šé£çš„é±¼ğŸŸ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯åŸºç¡€" class="dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯åŸºç¡€" class="mobile-dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basics/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/basics/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><a href="/frame/" class="nav-link">
  å‰ç«¯æ¡†æ¶
</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  å‰ç«¯å·¥ç¨‹åŒ–
</a></div><div class="nav-item"><a href="/project-practice/" class="nav-link router-link-active">
  é¡¹ç›®å®è·µ
</a></div><div class="nav-item"><a href="/browser/" class="nav-link">
  æµè§ˆå™¨
</a></div><div class="nav-item"><a href="/computer/" class="nav-link">
  è®¡ç®—æœºåŸºç¡€
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯åŸºç¡€" class="dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯åŸºç¡€" class="mobile-dropdown-title"><span class="title">å‰ç«¯åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basics/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/basics/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><a href="/frame/" class="nav-link">
  å‰ç«¯æ¡†æ¶
</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  å‰ç«¯å·¥ç¨‹åŒ–
</a></div><div class="nav-item"><a href="/project-practice/" class="nav-link router-link-active">
  é¡¹ç›®å®è·µ
</a></div><div class="nav-item"><a href="/browser/" class="nav-link">
  æµè§ˆå™¨
</a></div><div class="nav-item"><a href="/computer/" class="nav-link">
  è®¡ç®—æœºåŸºç¡€
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/project-practice/h5-static/" class="sidebar-heading clickable"><span>H5é™æ€åŒ–</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/project-practice/h5-static/programme/" class="sidebar-link">é™æ€åŒ–æ–¹æ¡ˆ</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/project-practice/d3js/" class="sidebar-heading clickable router-link-active open"><span>D3js</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/project-practice/d3js/introduction/" aria-current="page" class="active sidebar-link">D3jså…¥é—¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#ä»€ä¹ˆæ˜¯d3js" class="sidebar-link">ä»€ä¹ˆæ˜¯D3js</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#é€‰æ‹©é›†" class="sidebar-link">é€‰æ‹©é›†</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#æ ¸å¿ƒæ“ä½œ" class="sidebar-link">æ ¸å¿ƒæ“ä½œ</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#ç»˜åˆ¶ç®€å•å›¾è¡¨" class="sidebar-link">ç»˜åˆ¶ç®€å•å›¾è¡¨</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#ç»˜åˆ¶åæ ‡è½´" class="sidebar-link">ç»˜åˆ¶åæ ‡è½´</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#ç»˜åˆ¶ç›´æ–¹å›¾" class="sidebar-link">ç»˜åˆ¶ç›´æ–¹å›¾</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#ç»˜åˆ¶é¥¼å›¾" class="sidebar-link">ç»˜åˆ¶é¥¼å›¾</a></li><li class="sidebar-sub-header"><a href="/project-practice/d3js/introduction/#ä¸echartså¯¹æ¯”" class="sidebar-link">ä¸echartså¯¹æ¯”</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/project-practice/micro-frontends/" class="sidebar-heading clickable"><span>å¾®å‰ç«¯</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/project-practice/micro-frontends/knowledge/" class="sidebar-link">åŸºç¡€çŸ¥è¯†</a></li><li><a href="/project-practice/micro-frontends/qiankun/" class="sidebar-link">ä¹¾å¤æ¡†æ¶</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="d3jså…¥é—¨"><a href="#d3jså…¥é—¨" class="header-anchor">#</a> D3jså…¥é—¨</h1> <h2 id="ä»€ä¹ˆæ˜¯d3js"><a href="#ä»€ä¹ˆæ˜¯d3js" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯D3js</h2> <ul><li><p>D3js (Data-Driven Documents) æ˜¯ä¸€ä¸ªå¯ä»¥åŸºäº<strong>æ•°æ®æ¥æ“ä½œæ–‡æ¡£</strong>çš„ JavaScript åº“ã€‚</p></li> <li><p>ä¸å¼•å…¥æ–°çš„è§†è§‰è¡¨ç¤ºæ–¹æ³•ï¼Œè€Œæ˜¯å€ŸåŠ©äºç°æœ‰çš„ Web å…ƒç´ : HTML, CSS, SVG ç­‰</p></li> <li><p>D3 éµå¾ªç°æœ‰çš„ Web æ ‡å‡†ï¼Œå¯ä»¥ä¸éœ€è¦å…¶ä»–ä»»ä½•æ¡†æ¶ç‹¬ç«‹è¿è¡Œåœ¨ç°ä»£æµè§ˆå™¨ä¸­ï¼Œå®ƒç»“åˆå¼ºå¤§çš„å¯è§†åŒ–ç»„ä»¶æ¥é©±åŠ¨ DOM æ“ä½œã€‚</p></li> <li><p>D3 å¯ä»¥å°†æ•°æ®ç»‘å®šåˆ° DOM ä¸Šï¼Œç„¶åæ ¹æ®æ•°æ®æ¥è®¡ç®—å¯¹åº” DOM çš„å±æ€§å€¼ã€‚</p></li></ul> <h2 id="é€‰æ‹©é›†"><a href="#é€‰æ‹©é›†" class="header-anchor">#</a> é€‰æ‹©é›†</h2> <p>D3çš„é€‰æ‹©é›†åˆç±»ä¼¼JQueryï¼Œé€šè¿‡D3å°è£…çš„æ–¹æ³•æ¥è®¿é—®å„ä¸ªå…ƒç´ ï¼Œä»¥åŠè®¾ç½®æ ·å¼å±æ€§ã€‚</p> <p>å¦å¤–D3æœ‰ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒå¯ä»¥æ”¯æŒåŠ¨æ€è®¾ç½®å±æ€§ã€æ ·å¼ç­‰å€¼ã€‚</p> <p><strong>ç¤ºä¾‹ï¼ŒåŠ¨æ€è®¾ç½®å¤šä¸ªpæ ‡ç­¾çš„èƒŒæ™¯è‰²</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    d3<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span><span class="token string">'background-color'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hsl(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">360</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 100%, 50%)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>ç»“æœ</strong></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAADKCAYAAABOg049AAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8rAziDFwMdgwKCYmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsisJL4k8WwO52dbnfbPfHdPXBBTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRIQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDxqF1Bpr3I5AAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAABAqADAAQAAAABAAAAygAAAAD454trAAAGiklEQVR4Ae3csa1rBRBFURs9IZFRBxEFUBSlUBQFkAAJRZAh/cS4gZnJnOzl9Fiyzpqro/t+8J9//v3P6+FDgEBa4Pl6f9ICyhMg8PiOAQECBAyBZ4AAAW8EngECBB6GwENAgIAh8AwQIPAW8G8EHgMCBAyBZ4AAAW8EngECBN4C/jTwGBAgYAg8AwQIeCPwDBAg8Bbwp4HHgAABQ+AZIEDAG4FngACBt4A/DTwGBAg8vi6DH/66viH/pMB/P33y1/xWRcAbQeXSehJYBAzBgiMiUBEwBJVL60lgETAEC46IQEXAEFQurSeBRcAQLDgiAhUBQ1C5tJ4EFgFDsOCICFQEDEHl0noSWAQMwYIjIlARMASVS+tJYBEwBAuOiEBFwBBULq0ngUXAECw4IgIVAUNQubSeBBYBQ7DgiAhUBAxB5dJ6ElgEDMGCIyJQETAElUvrSWAReL7enyUXESAQEPBGEDiyigQuAUNwCckJBAQMQeDIKhK4BAzBJSQnEBAwBIEjq0jgEjAEl5CcQEDAEASOrCKBS8AQXEJyAgEBQxA4sooELgFDcAnJCQQEDEHgyCoSuAQMwSUkJxAQMASBI6tI4BIwBJeQnEBAwBAEjqwigUvg6/rC4+fn+RVf+KDAH/77iA9qZ37KG0Hm1IoSmAUMwWwjIZARMASZUytKYBYwBLONhEBGwBBkTq0ogVnAEMw2EgIZAUOQObWiBGYBQzDbSAhkBAxB5tSKEpgFDMFsIyGQETAEmVMrSmAWMASzjYRARsAQZE6tKIFZwBDMNhICGQFDkDm1ogRmAUMw20gIZAQMQebUihKYBQzBbCMhkBEwBJlTK0pgFni+3p85lhAgUBDwRlC4so4EDgFDcACJCRQEDEHhyjoSOAQMwQEkJlAQMASFK+tI4BAwBAeQmEBBwBAUrqwjgUPAEBxAYgIFAUNQuLKOBA4BQ3AAiQkUBAxB4co6EjgEDMEBJCZQEDAEhSvrSOAQMAQHkJhAQcAQFK6sI4FD4OvIH9//fn1D/kmBb7988tf8VkXAG0Hl0noSWAQMwYIjIlARMASVS+tJYBEwBAuOiEBFwBBULq0ngUXAECw4IgIVAUNQubSeBBYBQ7DgiAhUBAxB5dJ6ElgEDMGCIyJQETAElUvrSWARMAQLjohARcAQVC6tJ4FFwBAsOCICFQFDULm0ngQWAUOw4IgIVAQMQeXSehJYBAzBgiMiUBEwBJVL60lgEXi+3p8lFxEgEBDwRhA4sooELgFDcAnJCQQEDEHgyCoSuAQMwSUkJxAQMASBI6tI4BIwBJeQnEBAwBAEjqwigUvAEFxCcgIBAUMQOLKKBC4BQ3AJyQkEBAxB4MgqErgEDMElJCcQEDAEgSOrSOASMASXkJxAQMAQBI6sIoFL4Ov6wo+Pb9dX5B8U+Pfx/Qd/zU9VBLwRVC6tJ4FFwBAsOCICFQFDULm0ngQWAUOw4IgIVAQMQeXSehJYBAzBgiMiUBEwBJVL60lgETAEC46IQEXAEFQurSeBRcAQLDgiAhUBQ1C5tJ4EFgFDsOCICFQEDEHl0noSWAQMwYIjIlARMASVS+tJYBEwBAuOiEBFwBBULq0ngUXAECw4IgIVAUNQubSeBBaB5+v9WXIRAQIBAW8EgSOrSOASMASXkJxAQMAQBI6sIoFLwBBcQnICAQFDEDiyigQuAUNwCckJBAQMQeDIKhK4BAzBJSQnEBAwBIEjq0jgEjAEl5CcQEDAEASOrCKBS8AQXEJyAgEBQxA4sooELgFDcAnJCQQEDEHgyCoSuAS+ri88fn2eX/GFDwr85r+P+KB25qe8EWROrSiBWcAQzDYSAhkBQ5A5taIEZgFDMNtICGQEDEHm1IoSmAUMwWwjIZARMASZUytKYBYwBLONhEBGwBBkTq0ogVnAEMw2EgIZAUOQObWiBGYBQzDbSAhkBAxB5tSKEpgFDMFsIyGQETAEmVMrSmAWMASzjYRARsAQZE6tKIFZwBDMNhICGQFDkDm1ogRmgefr/ZljCQECBQFvBIUr60jgEDAEB5CYQEHAEBSurCOBQ8AQHEBiAgUBQ1C4so4EDgFDcACJCRQEDEHhyjoSOAQMwQEkJlAQMASFK+tI4BAwBAeQmEBBwBAUrqwjgUPAEBxAYgIFAUNQuLKOBA4BQ3AAiQkUBAxB4co6EjgEDMEBJCZQEDAEhSvrSOAQMAQHkJhAQcAQFK6sI4FDwBAcQGICBYH/AXvRJwcRBwJBAAAAAElFTkSuQmCC" alt="d3-p-color"></p> <h2 id="æ ¸å¿ƒæ“ä½œ"><a href="#æ ¸å¿ƒæ“ä½œ" class="header-anchor">#</a> æ ¸å¿ƒæ“ä½œ</h2> <ul><li>enterå’Œexit</li></ul> <p>å‰é¢æœ‰è¯´å…ˆå°†æ•°æ®ç»‘å®šåˆ°DOMä¸Šï¼Œç„¶åå†æ ¹æ®æ•°æ®æ¥è®¡ç®—å¯¹åº”çš„DOMéœ€è¦è¿›è¡Œä»€ä¹ˆæ“ä½œã€‚</p> <p>æ•°æ®ç»‘å®šçš„æ—¶å€™å¯èƒ½å‡ºç°DOMå…ƒç´ ä¸æ•°æ®å…ƒç´ ä¸ªæ•°ä¸åŒ¹é…çš„é—®é¢˜ã€‚</p> <p><code>enter</code>ç”¨æ¥æ“ä½œæ·»åŠ æ–°çš„DOMå…ƒç´ ï¼Œ<code>exit</code>æ“ä½œç”¨æ¥ç§»é™¤å¤šä½™çš„DOMå…ƒç´ ã€‚å³å¦‚æœå…ƒç´ å¤šäºDOMä¸ªæ•°æ—¶ç”¨<code>enter</code>ï¼Œå¦‚æœæ•°æ®å…ƒç´ å°‘äºDOMå…ƒç´ ï¼Œåˆ™ç”¨<code>exit</code>ã€‚</p> <p><strong>æƒ…å½¢ä¸€ï¼šæ•°æ®å…ƒç´ ä¸ªæ•°å¤šäºDOMå…ƒç´ ä¸ªæ•°</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am P </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>ç»“æœ</strong></p> <p><img src="/assets/img/enter.b62a2c21.png" alt="enter"></p> <p><strong>æƒ…å½¢äºŒï¼šæ•°æ®å…ƒç´ ä¸DOMå…ƒç´ ä¸ªæ•°ä¸€æ ·</strong></p> <p>ä¸éœ€è¦æ·»åŠ ä¹Ÿä¸éœ€è¦åˆ é™¤ï¼Œç›´æ¥ç»‘å®šæ•°æ®æ“ä½œå³å¯</p> <p><strong>æƒ…å½¢ä¸‰ï¼šæ•°æ®å…ƒç´ ä¸ªæ•°å°‘äºDOMå…ƒç´ ä¸ªæ•°</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://d3js.org/d3.v5.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> p <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am P </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>ç»“æœï¼š</strong></p> <p><img src="/assets/img/exit.c80211f9.png" alt="exit"></p> <p><strong>å®é™…åº”ç”¨ä¸­å¯èƒ½æ— æ³•ç»Ÿè®¡æˆ–è€…ä¸æƒ³ç»Ÿè®¡è°å¤šè°å°‘ï¼Œä¾¿å¯ä»¥ä¸‰ç§ä¸€èµ·ä½¿ç”¨ï¼š</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> p <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'.wrapper'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am P </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I am P </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>d<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ç»˜åˆ¶ç®€å•å›¾è¡¨"><a href="#ç»˜åˆ¶ç®€å•å›¾è¡¨" class="header-anchor">#</a> ç»˜åˆ¶ç®€å•å›¾è¡¨</h2> <div class="custom-block tip"><p class="custom-block-title">æ³¨æ„</p> <p>éœ€è¦æœ‰åŸºæœ¬çš„svgçŸ¥è¯†ï¼Œ<a href="https://d3js.org.cn/svg/" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <p><strong>è¦å®ç°çš„æ•ˆæœå›¾ï¼š</strong></p> <p><img src="data:image/png;base64,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" alt="rect"></p> <p><strong>å®ç°ä»£ç ï¼š</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> svgW <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> svgH <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> svg <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> svgW<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> svgH<span class="token punctuation">)</span><span class="token punctuation">;</span>


  <span class="token keyword">const</span> margin <span class="token operator">=</span> <span class="token number">10</span> <span class="token comment">// è®¾ç½®è¾¹è·</span>
  <span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">250</span> <span class="token punctuation">,</span> <span class="token number">210</span> <span class="token punctuation">,</span> <span class="token number">170</span> <span class="token punctuation">,</span> <span class="token number">130</span> <span class="token punctuation">,</span> <span class="token number">90</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// æ•°æ®ï¼ˆè¡¨ç¤ºçŸ©å½¢çš„å®½åº¦ï¼‰</span>

  <span class="token keyword">const</span> g <span class="token operator">=</span> svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> rectHeight <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span> <span class="token comment">// çŸ©å½¢çš„é«˜åº¦</span>

  g<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> i <span class="token operator">*</span> rectHeight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> rectHeight <span class="token operator">-</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ç»˜åˆ¶åæ ‡è½´"><a href="#ç»˜åˆ¶åæ ‡è½´" class="header-anchor">#</a> ç»˜åˆ¶åæ ‡è½´</h2> <p><strong>æœŸæœ›æ•ˆæœï¼š</strong></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAn4AAAEvCAYAAADb6syvAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8rAziDFIMDAz6CQmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsgs83mGP75yV5i+jU07EbNjUTCmehTAlZJanAyk/wBxWnJBUQkDA2MKkK1cXlIAYncA2SJFQEcB2XNA7HQIewOInQRhHwGrCQlyBrJvANkCyRmJQDMYXwDZOklI4ulIbKi9IMDj4urjoxBqZG5o7kLAuaSDktSKEhDtnF9QWZSZnlGi4AgMpVQFz7xkPR0FIwMjQwYGUJhDVH++AQ5LRjEOhFiBGAODJdBhzIsRYklSDAzbge6X5ESIqSxnYOCPYGDY1lCQWJQIdwDjN5biNGMjCJt7OwMD67T//z+HMzCwazIw/L3+///v7f///10GNP8WA8OBbwAdHF6F7fXhaQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAACfqADAAQAAAABAAABLwAAAADIpWshAAAV5klEQVR4Ae3dsasdVR4H8LnhxYdsJLgWCkosBFPZi2IhohZi4xqL/AEWloKwpjCKhbKCaCr/hYCFnY2uYKFELLNYCRoCoqsraCHB4u6du7zHJPNmje/N+Z0z53wuhDdvkje/cz7fmfj15kVX682r8yJAgAABAgQIEKhe4Fj1O7RBAgQIECBAgACBrYDi50YgQIAAAQIECDQioPg1ErRtEiBAgAABAgQUP/cAAQIECBAgQKARAcWvkaBtkwABAgQIECCg+LkHCBAgQIAAAQKNCCh+jQRtmwQIECBAgAABxc89QIAAAQIECBBoREDxayRo2yRAgAABAgQIKH7uAQIECBAgQIBAIwKKXyNB2yYBAgQIECBAQPFzDxAgQIAAAQIEGhFQ/BoJ2jYJECBAgAABAoqfe4AAAQIECBAg0IiA4tdI0LZJgAABAgQIEFD83AMECBAgQIAAgUYEFL9GgrZNAgQIECBAgIDi5x4gQIAAAQIECDQioPg1ErRtEiBAgAABAgQUP/cAAQIECBAgQKARAcWvkaBtkwABAgQIECCg+LkHCBAgQIAAAQKNCCh+jQRtmwQIECBAgAABxc89QIAAAQIECBBoREDxayRo2yRAgAABAgQIKH7uAQIECBAgQIBAIwKKXyNB2yYBAgQIECBAQPFzDxAgQIAAAQIEGhFQ/BoJ2jYJECBAgAABAoqfe4AAAQIECBAg0IiA4tdI0LZJgAABAgQIEFD83AMECBAgQIAAgUYEFL9GgrZNAgQIECBAgIDi5x4gQIAAAQIECDQioPg1ErRtEiBAgAABAgQUP/cAAQIECBAgQKARAcWvkaBtkwABAgQIECCg+LkHCBAgQIAAAQKNCCh+jQRtmwQIECBAgAABxc89QIAAAQIECBBoREDxayRo2yRAgAABAgQIKH7uAQIECBAgQIBAIwKKXyNB2yYBAgQIECBAQPFzDxAgQIAAAQIEGhFQ/BoJ2jYJECBAgAABAoqfe4AAAQIECBAg0IiA4tdI0LZJgAABAgQIEFD83AMECBAgQIAAgUYEFL9GgrZNAgQIECBAgIDi5x4gQIAAAQIECDQioPg1ErRtEiBAgAABAgQUP/cAAQIECBAgQKARAcWvkaBtkwABAgQIECCg+LkHCBAgQIAAAQKNCCh+jQRtmwQIECBAgAABxc89QIAAAQIECBBoREDxayRo2yRAgAABAgQI7NRCsNqtZSf2QYAAAQIE2hVYX2t37xE7945fhLIZBAgQIECAAIECBBS/AkKwBAIECBAgQIBAhIDiF6FsBgECBAgQIECgAAHFr4AQLIEAAQIECBAgECGg+EUom0GAAAECBAgQKEBA8SsgBEsgQIAAAQIECEQIKH4RymYQIECAAAECBAoQUPwKCMESCBAgQIAAAQIRAopfhLIZBAgQIECAAIECBBS/AkKwBAIECBAgQIBAhIDiF6FsBgECBAgQIECgAAHFr4AQLIEAAQIECBAgECGg+EUom0GAAAECBAgQKEBA8SsgBEsgQIAAAQIECEQIKH4RymYQIECAAAECBAoQUPwKCMESCBAgQIAAAQIRAopfhLIZBAgQIECAAIECBBS/AkKwBAIECBAgQIBAhIDiF6FsBgECBAgQIECgAAHFr4AQLIEAAQIECBAgECGg+EUom0GAAAECBAgQKEBA8SsgBEsgQIAAAQIECEQIKH4RymYQIECAAAECBAoQUPwKCMESCBAgQIAAAQIRAqv15hUxyAwCBAgQIECAAIG8At7xy+tvOgECBAgQIEAgTEDxC6M2iAABAgQIECCQV0Dxy+tvOgECBAgQIEAgTEDxC6M2iAABAgQIECCQV2An7/j5pq9257uWKxEgQIAAgcMKrK8d9it9HYH0At7xS29sAgECBAgQIECgCAHFr4gYLIIAAQIECBAgkF5A8UtvbAIBAgQIECBAoAgBxa+IGCyCAAECBAgQIJBeQPFLb2wCAQIECBAgQKAIAcWviBgsggABAgQIECCQXkDxS29sAgECBAgQIECgCAHFr4gYLIIAAQIECBAgkF5A8UtvbAIBAgQIECBAoAgBxa+IGCyCAAECBAgQIJBeQPFLb2wCAQIECBAgQKAIAcWviBgsggABAgQIECCQXkDxS29sAgECBAgQIECgCAHFr4gYLIIAAQIECBAgkF5A8UtvbAIBAgQIECBAoAgBxa+IGCyCAAECBAgQIJBeQPFLb2wCAQIECBAgQKAIAcWviBgsggABAgQIECCQXkDxS29sAgECBAgQIECgCAHFr4gYLIIAAQIECBAgkF5A8UtvbAIBAgQIECBAoAgBxa+IGCyCAAECBAgQIJBeQPFLb2wCAQIECBAgQKAIAcWviBgsggABAgQIECCQXmC13rzSjzGBAAECBAgQIEAgt4B3/HInYD4BAgQIECBAIEhA8QuCNoYAAQIECBAgkFtA8cudgPkECBAgQIAAgSABxS8I2hgCBAgQIECAQG6BndwLmGv+aneuK7kOAQIE2hZYX2t7/3ZPoGYB7/jVnK69ESBAgAABAgQGAorfAMMhAQIECBAgQKBmAcWv5nTtjQABAgQIECAwEFD8BhgOCRAgQIAAAQI1Cyh+NadrbwQIECBAgACBgYDiN8BwSIAAAQIECBCoWUDxqzldeyNAgAABAgQIDAQUvwGGQwIECBAgQIBAzQKKX83p2hsBAgQIECBAYCCg+A0wHBIgQIAAAQIEahZQ/GpO194IECBAgAABAgMBxW+A4ZAAAQIECBAgULOA4ldzuvZGgAABAgQIEBgIKH4DDIcECBAgQIAAgZoFFL+a07U3AgQIECBAgMBAQPEbYDgkQIAAAQIECNQsoPjVnK69ESBAgAABAgQGAorfAMMhAQIECBAgQKBmAcWv5nTtjQABAgQIECAwEFD8BhgOCRAgQIAAAQI1Cyh+NadrbwQIECBAgACBgYDiN8BwSIAAAQIECBCoWUDxqzldeyNAgAABAgQIDAQUvwGGQwIECBAgQIBAzQKr9eZV8wbtjQABAgQIECBA4H8C3vFzJxAgQIAAAQIEGhFQ/BoJ2jYJECBAgAABAoqfe4AAAQIECBAg0IiA4tdI0LZJgAABAgQIENiphWC1W8tO7IMAgaMKrK8d9Qq+ngABAnUKeMevzlztigABAgQIECAwElD8RiROECBAgAABAgTqFFD86szVrggQIECAAAECIwHFb0TiBAECBAgQIECgTgHFr85c7YoAAQIECBAgMBJQ/EYkThAgQIAAAQIE6hRQ/OrM1a4IECBAgAABAiMBxW9E4gQBAgQIECBAoE4Bxa/OXO2KAAECBAgQIDASUPxGJE4QIECAAAECBOoUUPzqzNWuCBAgQIAAAQIjAcVvROIEAQIECBAgQKBOAcWvzlztigABAgQIECAwElD8RiROECBAgAABAgTqFFD86szVrggQIECAAAECIwHFb0TiBAECBAgQIECgTgHFr85c7YoAAQIECBAgMBJQ/EYkThAgQIAAAQIE6hRQ/OrM1a4IECBAgAABAiMBxW9E4gQBAgQIECBAoE4Bxa/OXO2KAAECBAgQIDASUPxGJE4QIECAAAECBOoUUPzqzNWuCBAgQIAAAQIjAcVvROIEAQIECBAgQKBOgdV686pza3ZFgAABAgQIECAwFPCO31DDMQECBAgQIECgYgHFr+JwbY0AAQIECBAgMBRQ/IYajgkQIECAAAECFQsofhWHa2sECBAgQIAAgaHAzvCTJR+vdpe8emsncL3A+tr1n/uMAAECBAjMIeAdvzkUXYMAAQIECBAgsAABxW8BIVkiAQIECBAgQGAOAcVvDkXXIECAAAECBAgsQEDxW0BIlkiAAAECBAgQmENA8ZtD0TUIECBAgAABAgsQUPwWEJIlEiBAgAABAgTmEFD85lB0DQIECBAgQIDAAgQUvwWEZIkECBAgQIAAgTkEFL85FF2DAAECBAgQILAAAcVvASFZIgECBAgQIEBgDgHFbw5F1yBAgAABAgQILEBA8VtASJZIgAABAgQIEJhDQPGbQ9E1CBAgQIAAAQILEFD8FhCSJRIgQIAAAQIE5hBQ/OZQdA0CBAgQIECAwAIEFL8FhGSJBAgQIECAAIE5BBS/ORRdgwABAgQIECCwAAHFbwEhWSIBAgQIECBAYA4BxW8ORdcgQIAAAQIECCxAQPFbQEiWSIAAAQIECBCYQ0Dxm0PRNQgQIECAAAECCxBQ/BYQkiUSIECAAAECBOYQUPzmUHQNAgQIECBAgMACBBS/BYRkiQQIECBAgACBOQRW681rjgu5BgECBAgQIECAQNkC3vErOx+rI0CAAAECBAjMJqD4zUbpQgQIECBAgACBsgUUv7LzsToCBAgQIECAwGwCit9slC5EgAABAgQIEChbYKfs5d386lar1c3/Yr+SAAECBAgQKFbA3ztNF001xa8ncqOku1H+7JX7Ii6PP6uW7tfLI53tYa4sj8OopfsaeaSzPcyV+zy80gn4o950tq5MgAABAgQIEChKQPErKg6LIUCAAAECBAikE1D80tm6MgECBAgQIECgKAHFr6g4LIYAAQIECBAgkE7A/7Itna0rEyBAgAABAgSKEvCOX1FxWAwBAgQIECBAIJ1AFcWv/8+GXL16NZ2SK/+hQJ/B8MfeF8hmTyLPxyn/qfN5VtnO1OEz0h/vveSxJ5H2448//jgaMGU/dX50AScOLTCVR2+/92Pv4vLYkzj6x8UXv2+//bY7ffp098wzf+vuv//+rv/cK1bgxRdf7O65555tDn0WZ8+e3S5ANrE5XLlypXv44Ye78+fP/19/ucTkcmMenpMY94OmfPPNN92TTz7ZPfroo90DDzzQffrpp56Rg6CCzk3l4RkJCmDTohf9ev7559fvvffedg/9x/5zr1iBM2fOrD///PPRUNmMSJKd+O6779b33nvvevMPt/Urr7yynTPlP3U+2eIavPBBeXhO8t0I586dW7/xxhvbBXz88T/XTz311PZ46lmYOp9vB3VNnsrDMxKT8+Lf8fvss8+6Z589s63Jzz33XHfp0qWgymzMnsD333/f/fzzz92FCxe6L7/8cu90J5t9iuQHt99+e3f58r+6J554Yn/WlP/U+f0vdHBkgYPy8JwcmfXQF/j111/3/yTitttOdD/88O/ttaaehanzh16AL7xOYCoPz8h1TMk+WXTx+/333zcP8A/dHXf8dQvU/2a7+Tftrj/vFSfQm1+8eLG76667utdff7176aWXthnIJi6D3d3d7sSJv+wPnHo2fvvtN8/MvlK6gxvz6Cd5TtJ5/9GV+38pPXXq1PZbgV544YXu5Zf/Pvl7lGfkjzSP/vMH5dFf1TNydNubucKi/1+9x48f3/zD7kTXP6i33nrr9uPJkye7/rxXnMDly5e7W265ZTuw/z6a/nst33zzTdnERTCaNPVs9M+JZ2bEFXLCcxLCPDnk/fff71577bXunXfe6R577LHtrzvoWfCMTBLO+hMH5eEZmZV48mKLfsev39UjjzzSffjhh9sN9h8feuihyc36iTQCjz/+ePf1119vL/7VV191d999d3fs2DHZpOG+6atOPRtT52/6wn7hoQQ8J4dim+WL+pLx7rsXuk8++WS/9PUXnnoWps7PshgX6aby8IzE3ByL/w8494Xj6aef7vo/5v3ll1+6Dz74oLvvvvti9EzZCnz00UebPzp5udvZ2dn8ON699dY/ugcffHBbBmUTe5O8/fbb2+fg1VdfnfT3zMRlMszDcxLnfuOk/m+793+TtP8Tof514sRt3RdfXPKM3AgV9PlUHp6RmAAWX/z2mPpvCr3zzjv3PvUxg8BPP/1n//sth+NlM9SIP57ynzofv8K2JnpOyst76lmYOl/eDupakWckbZ7VFL+0TK5OgAABAgQIEFi+wOK/x2/5EdgBAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRkDxi3E2hQABAgQIECCQXUDxyx6BBRAgQIAAAQIEYgQUvxhnUwgQIECAAAEC2QUUv+wRWAABAgQIECBAIEZA8YtxNoUAAQIECBAgkF1A8csegQUQIECAAAECBGIEFL8YZ1MIECBAgAABAtkFFL/sEVgAAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRkDxi3E2hQABAgQIECCQXUDxyx6BBRAgQIAAAQIEYgQUvxhnUwgQIECAAAEC2QUUv+wRWAABAgQIECBAIEZA8YtxNoUAAQIECBAgkF1A8csegQUQIECAAAECBGIEFL8YZ1MIECBAgAABAtkFFL/sEVgAAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRkDxi3E2hQABAgQIECCQXUDxyx6BBRAgQIAAAQIEYgQUvxhnUwgQIECAAAEC2QUUv+wRWAABAgQIECBAIEZA8YtxNoUAAQIECBAgkF1A8csegQUQIECAAAECBGIEFL8YZ1MIECBAgAABAtkFFL/sEVgAAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRkDxi3E2hQABAgQIECCQXUDxyx6BBRAgQIAAAQIEYgQUvxhnUwgQIECAAAEC2QUUv+wRWAABAgQIECBAIEZA8YtxNoUAAQIECBAgkF1A8csegQUQIECAAAECBGIEFL8YZ1MIECBAgAABAtkFFL/sEVgAAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRkDxi3E2hQABAgQIECCQXUDxyx6BBRAgQIAAAQIEYgQUvxhnUwgQIECAAAEC2QUUv+wRWAABAgQIECBAIEZA8YtxNoUAAQIECBAgkF1A8csegQUQIECAAAECBGIEFL8YZ1MIECBAgAABAtkFFL/sEVgAAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRkDxi3E2hQABAgQIECCQXUDxyx6BBRAgQIAAAQIEYgQUvxhnUwgQIECAAAEC2QUUv+wRWAABAgQIECBAIEZA8YtxNoUAAQIECBAgkF1A8csegQUQIECAAAECBGIEFL8YZ1MIECBAgAABAtkFFL/sEVgAAQIECBAgQCBGQPGLcTaFAAECBAgQIJBdQPHLHoEFECBAgAABAgRiBBS/GGdTCBAgQIAAAQLZBRS/7BFYAAECBAgQIEAgRuC/zpKroOUesiAAAAAASUVORK5CYII=" alt="axis"></p> <p><strong>å®ç°ä»£ç ï¼š</strong></p> <p>å®šä¹‰ä¸€ä¸ªæ¯”ä¾‹å°º</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">// å®šä¹‰ä¸€ä¸ªçº¿æ€§æ¯”ä¾‹å°º</span>
  <span class="token keyword">const</span> xScale <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                  <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>d3<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                  <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xScale(0)::'</span><span class="token punctuation">,</span> <span class="token function">xScale</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xScale(0):: 0</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xScale(100)::'</span><span class="token punctuation">,</span> <span class="token function">xScale</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xScale(100):: 200</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'xScale(250)::'</span><span class="token punctuation">,</span> <span class="token function">xScale</span><span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// xScale(250):: 500</span>
</code></pre></div><p>ç»˜åˆ¶åæ ‡è½´</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token comment">//ç»˜åˆ¶åæ ‡è½´</span>
  <span class="token keyword">const</span> xAxis <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>xScale<span class="token punctuation">)</span> <span class="token comment">// å®šä¹‰ä¸€ä¸ªaxisï¼Œç”±bottomå¯çŸ¥ï¼Œæ˜¯æœä¸‹çš„</span>
                <span class="token punctuation">.</span><span class="token function">ticks</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®åˆ»åº¦æ•°ç›®</span>

  <span class="token keyword">const</span> temp <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(20, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dataset<span class="token punctuation">.</span>length <span class="token operator">*</span> rectHeight<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// xAxis(temp);</span>
</code></pre></div><h2 id="ç»˜åˆ¶ç›´æ–¹å›¾"><a href="#ç»˜åˆ¶ç›´æ–¹å›¾" class="header-anchor">#</a> ç»˜åˆ¶ç›´æ–¹å›¾</h2> <p><strong>é¢„æœŸæ•ˆæœï¼š</strong></p> <p><img src="/assets/img/histogram.a46705b1.png" alt="histogram"></p> <p><strong>å®ç°ä»£ç </strong></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> svgH <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> svgW <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> margin <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> svg <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> svgW<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> svgH<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> g <span class="token operator">=</span> svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>margin<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ•°æ®</span>
  <span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// xåæ ‡è½´</span>
  <span class="token keyword">const</span> xScale <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleBand</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>dataset<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">rangeRound</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> svgW <span class="token operator">-</span> <span class="token punctuation">(</span>margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> xAxis <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">axisBottom</span><span class="token punctuation">(</span>xScale<span class="token punctuation">)</span><span class="token punctuation">;</span>
  g<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(0, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>svgH <span class="token operator">-</span> <span class="token punctuation">(</span>margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>xAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// yåæ ‡è½´</span>
  <span class="token keyword">const</span> yScale <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleLinear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> d3<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token punctuation">[</span>svgH <span class="token operator">-</span> <span class="token punctuation">(</span>margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> yAxis <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">axisLeft</span><span class="token punctuation">(</span>yScale<span class="token punctuation">)</span><span class="token punctuation">;</span>
  g<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>yAxis<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// æ•°æ®åˆ†ç»„</span>
  <span class="token keyword">const</span> dgs <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'.rect'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token string">'rect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> rectPadding <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token comment">// çŸ©å½¢ä¹‹é—´çš„é—´éš”</span>

  <span class="token comment">// ç”»æŸ±å­</span>
  dgs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'rect'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">xScale</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> rectPadding<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> xScale<span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> rectPadding<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> min <span class="token operator">=</span> yScale<span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">yScale</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseover'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
          <span class="token comment">// .transition()</span>
          <span class="token comment">// .duration(1500)</span>
          <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mouseout'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
          <span class="token comment">// .transition()</span>
          <span class="token comment">// .duration(1500)</span>
          <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token operator">*</span><span class="token number">200</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">yScale</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> svgH <span class="token operator">-</span> <span class="token punctuation">(</span>margin <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">yScale</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//  transitionåé¢å†™onå­˜åœ¨ä¸€ä¸ªbugï¼šhttps://www.coder.work/article/1191655</span>
  <span class="token comment">// ç»˜åˆ¶æ–‡å­—</span>
  dgs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">xScale</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> rectPadding<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> min <span class="token operator">=</span> yScale<span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">yScale</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'dx'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'dy'</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">transition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">duration</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token operator">*</span><span class="token number">200</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token function">yScale</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ç»˜åˆ¶é¥¼å›¾"><a href="#ç»˜åˆ¶é¥¼å›¾" class="header-anchor">#</a> ç»˜åˆ¶é¥¼å›¾</h2> <p><strong>é¢„æœŸæ•ˆæœ</strong></p> <p><img src="/assets/img/pie.51de0f39.png" alt="pie"></p> <p><strong>å®ç°ä»£ç </strong></p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">const</span> svgH <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> svgW <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> margin <span class="token operator">=</span> <span class="token number">60</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> svg <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'width'</span><span class="token punctuation">,</span> svgW<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> svgH<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> g <span class="token operator">=</span> svg<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>svgW<span class="token operator">/</span><span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>svgH<span class="token operator">/</span><span class="token number">2</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> dataset <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// éœ€è¦å°†è¿™äº›æ•°æ®å˜æˆé¥¼çŠ¶å›¾çš„æ•°æ®</span>

  <span class="token comment">// é¢œè‰²æ¯”ä¾‹å°º</span>
  <span class="token keyword">const</span> colorScale <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">scaleOrdinal</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">domain</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>dataset<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span>schemeCategory10<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> pie <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">pie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> innerRadius <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// å†…åŠå¾„</span>
  <span class="token keyword">const</span> outerRadius <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// å¤–åŠå¾„</span>
  <span class="token keyword">const</span> arc_generator <span class="token operator">=</span> d3<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">innerRadius</span><span class="token punctuation">(</span>innerRadius<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">outerRadius</span><span class="token punctuation">(</span>outerRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> pieData <span class="token operator">=</span> <span class="token function">pie</span><span class="token punctuation">(</span>dataset<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pieData<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> pgs <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>pieData<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">enter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'g'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pgs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token parameter">d</span> <span class="token operator">=&gt;</span> <span class="token function">arc_generator</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'fill'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">d<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">colorScale</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pgs<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'transform'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//ä½ç½®è®¾åœ¨ä¸­å¿ƒå¤„</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">translate(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arc_generator<span class="token punctuation">.</span><span class="token function">centroid</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'text-anchor'</span><span class="token punctuation">,</span> <span class="token string">'middle'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token parameter">d</span> <span class="token operator">=&gt;</span> d<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="ä¸echartså¯¹æ¯”"><a href="#ä¸echartså¯¹æ¯”" class="header-anchor">#</a> ä¸echartså¯¹æ¯”</h2> <ul><li>ä½“ç§¯æ›´å°</li> <li>æ“ä½œæ›´çµæ´»ï¼Œechartsæ˜¯é€šè¿‡é…ç½®ç”Ÿæˆï¼Œd3jsç±»ä¼¼èµ‹äºˆäº†ä¸€ä¸ªç»˜åˆ¶çš„èƒ½åŠ›</li> <li>ä¸Šæ‰‹æˆæœ¬è¾ƒé«˜ï¼Œæ¯”è¾ƒechartsåªéœ€è¦äº†è§£é…ç½®é¡¹ï¼Œè€Œd3jséœ€è¦ç†Ÿæ‚‰apiï¼Œå¹¶çµæ´»ç»„åˆapiç»˜åˆ¶è‡ªå·±æƒ³è¦çš„æ•ˆæœ</li></ul> <blockquote><p>çŸ¥ä¹ä¸Šä¸€ç¯‡æ¯”è¾ƒå…¨çš„å…¥é—¨ä¸‹é¢çš„å›å¤ï¼š<a href="https://zhuanlan.zhihu.com/p/38001672" target="_blank" rel="noopener noreferrer">D3.js å­¦ä¹ ä¹‹è·¯<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="/assets/img/comment.70cd5bbb.png" alt="comment"></p></blockquote> <blockquote><p><a href="http://www.a4z.cn/pui/ant-admin.html#/vertical-bp-chart" target="_blank" rel="noopener noreferrer">ä¼˜ç§€ä½œå“æ¬£èµ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <blockquote><p>å‚è€ƒæ–‡æ¡£ï¼š <a href="https://d3js.org.cn/" target="_blank" rel="noopener noreferrer">D3jså®˜ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://blog.csdn.net/qq_34414916/category_7608878.html" target="_blank" rel="noopener noreferrer">D3.jsçš„v5ç‰ˆæœ¬å…¥é—¨æ•™ç¨‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/project-practice/h5-static/programme/" class="prev">
        é™æ€åŒ–æ–¹æ¡ˆ
      </a></span> <span class="next"><a href="/project-practice/micro-frontends/knowledge/">
        åŸºç¡€çŸ¥è¯†
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5fc96bdf.js" defer></script><script src="/assets/js/2.56cd01f5.js" defer></script><script src="/assets/js/8.eef37b1f.js" defer></script>
  </body>
</html>

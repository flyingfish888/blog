<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>重绘和回流 | 会飞的鱼🐟</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="学习笔记">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.5fc96bdf.js" as="script"><link rel="preload" href="/assets/js/2.56cd01f5.js" as="script"><link rel="preload" href="/assets/js/16.1365c67d.js" as="script"><link rel="prefetch" href="/assets/js/10.3ea21215.js"><link rel="prefetch" href="/assets/js/11.f2af6ae8.js"><link rel="prefetch" href="/assets/js/12.644b56f9.js"><link rel="prefetch" href="/assets/js/13.321b16b6.js"><link rel="prefetch" href="/assets/js/14.c75e2d6b.js"><link rel="prefetch" href="/assets/js/15.5b62c749.js"><link rel="prefetch" href="/assets/js/17.b89f8d5a.js"><link rel="prefetch" href="/assets/js/18.c2b2881c.js"><link rel="prefetch" href="/assets/js/19.793ae888.js"><link rel="prefetch" href="/assets/js/20.ceb40dc7.js"><link rel="prefetch" href="/assets/js/21.3872ab50.js"><link rel="prefetch" href="/assets/js/22.cdd80890.js"><link rel="prefetch" href="/assets/js/23.b89f5df5.js"><link rel="prefetch" href="/assets/js/24.00cc879e.js"><link rel="prefetch" href="/assets/js/25.e7d9e711.js"><link rel="prefetch" href="/assets/js/26.38dfa295.js"><link rel="prefetch" href="/assets/js/27.42e5a51b.js"><link rel="prefetch" href="/assets/js/28.f29c5a5a.js"><link rel="prefetch" href="/assets/js/29.9c1152d0.js"><link rel="prefetch" href="/assets/js/3.5ad5b76e.js"><link rel="prefetch" href="/assets/js/30.fb98a7fd.js"><link rel="prefetch" href="/assets/js/31.587a4c4e.js"><link rel="prefetch" href="/assets/js/32.07d3f2a3.js"><link rel="prefetch" href="/assets/js/33.330ca2ab.js"><link rel="prefetch" href="/assets/js/34.644b8fec.js"><link rel="prefetch" href="/assets/js/35.2a59dd03.js"><link rel="prefetch" href="/assets/js/36.f24a64fb.js"><link rel="prefetch" href="/assets/js/37.4c48b883.js"><link rel="prefetch" href="/assets/js/38.e2ef6b4b.js"><link rel="prefetch" href="/assets/js/39.560ec89f.js"><link rel="prefetch" href="/assets/js/4.a64d0739.js"><link rel="prefetch" href="/assets/js/40.e9e6f1a1.js"><link rel="prefetch" href="/assets/js/41.c2b76d48.js"><link rel="prefetch" href="/assets/js/42.a837ca06.js"><link rel="prefetch" href="/assets/js/43.e6231a11.js"><link rel="prefetch" href="/assets/js/44.a06340cd.js"><link rel="prefetch" href="/assets/js/45.2e753f17.js"><link rel="prefetch" href="/assets/js/46.67d5bfd7.js"><link rel="prefetch" href="/assets/js/47.79d98f76.js"><link rel="prefetch" href="/assets/js/48.a27665a5.js"><link rel="prefetch" href="/assets/js/49.61035e35.js"><link rel="prefetch" href="/assets/js/5.05ac1e95.js"><link rel="prefetch" href="/assets/js/50.23d10ba5.js"><link rel="prefetch" href="/assets/js/51.ffd94a50.js"><link rel="prefetch" href="/assets/js/52.72645a49.js"><link rel="prefetch" href="/assets/js/53.fddcc9c3.js"><link rel="prefetch" href="/assets/js/54.29a19228.js"><link rel="prefetch" href="/assets/js/55.9dd56225.js"><link rel="prefetch" href="/assets/js/56.97ccbdc2.js"><link rel="prefetch" href="/assets/js/57.b5653684.js"><link rel="prefetch" href="/assets/js/58.5022402f.js"><link rel="prefetch" href="/assets/js/59.2788a4dc.js"><link rel="prefetch" href="/assets/js/6.2caff082.js"><link rel="prefetch" href="/assets/js/60.3a36e8b6.js"><link rel="prefetch" href="/assets/js/61.a58c0429.js"><link rel="prefetch" href="/assets/js/62.22142950.js"><link rel="prefetch" href="/assets/js/63.eb63df3a.js"><link rel="prefetch" href="/assets/js/64.5410a8b2.js"><link rel="prefetch" href="/assets/js/65.05534a28.js"><link rel="prefetch" href="/assets/js/66.345d568d.js"><link rel="prefetch" href="/assets/js/67.6d6c908d.js"><link rel="prefetch" href="/assets/js/68.48f8f647.js"><link rel="prefetch" href="/assets/js/69.0880f127.js"><link rel="prefetch" href="/assets/js/7.92af244d.js"><link rel="prefetch" href="/assets/js/70.6190682a.js"><link rel="prefetch" href="/assets/js/71.aef1621f.js"><link rel="prefetch" href="/assets/js/72.701beefb.js"><link rel="prefetch" href="/assets/js/73.5049b0f0.js"><link rel="prefetch" href="/assets/js/74.951b2541.js"><link rel="prefetch" href="/assets/js/75.a448589d.js"><link rel="prefetch" href="/assets/js/76.5245fdac.js"><link rel="prefetch" href="/assets/js/77.f76382e3.js"><link rel="prefetch" href="/assets/js/78.df1f1d7c.js"><link rel="prefetch" href="/assets/js/8.eef37b1f.js"><link rel="prefetch" href="/assets/js/9.e99284fe.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">会飞的鱼🐟</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basics/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/basics/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><a href="/frame/" class="nav-link">
  前端框架
</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/project-practice/" class="nav-link">
  项目实践
</a></div><div class="nav-item"><a href="/browser/" class="nav-link router-link-active">
  浏览器
</a></div><div class="nav-item"><a href="/computer/" class="nav-link">
  计算机基础
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basics/javascript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basics/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/basics/html/" class="nav-link">
  HTML
</a></li></ul></div></div><div class="nav-item"><a href="/frame/" class="nav-link">
  前端框架
</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  前端工程化
</a></div><div class="nav-item"><a href="/project-practice/" class="nav-link">
  项目实践
</a></div><div class="nav-item"><a href="/browser/" class="nav-link router-link-active">
  浏览器
</a></div><div class="nav-item"><a href="/computer/" class="nav-link">
  计算机基础
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浏览器基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/browser/basics/url/" class="sidebar-link">从输入URL到页面呈现发生了什么</a></li><li><a href="/browser/basics/repaint/" aria-current="page" class="active sidebar-link">重绘和回流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/browser/basics/repaint/#回流" class="sidebar-link">回流</a></li><li class="sidebar-sub-header"><a href="/browser/basics/repaint/#实践意义" class="sidebar-link">实践意义</a></li></ul></li><li><a href="/browser/basics/safe/" class="sidebar-link">安全策略</a></li><li><a href="/browser/basics/cache/" class="sidebar-link">缓存策略</a></li><li><a href="/browser/basics/local-store/" class="sidebar-link">本地存储</a></li><li><a href="/browser/basics/homology/" class="sidebar-link">同源策略</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>谷歌浏览器</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/browser/chrome/framework/" class="sidebar-link">Chrome架构</a></li><li><a href="/browser/chrome/performance/" class="sidebar-link">Performance</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="重绘和回流"><a href="#重绘和回流" class="header-anchor">#</a> 重绘和回流</h1> <p>浏览器渲染前端页面的流程：</p> <p><img src="/assets/img/program.45b73da7.png" alt="program"></p> <h2 id="回流"><a href="#回流" class="header-anchor">#</a> 回流</h2> <p>回流也叫重排</p> <p><strong>触发条件</strong></p> <p>简单来说，就是当我们对DOM结构的修改引发DOM几何尺寸变化的时候，就会发生回流的过程。</p> <p>具体一点，有以下的操作会触发回流:</p> <ul><li><p>一个DOM元素的几何属性变化，常见的几何属性有<code>width、height、padding、margin、left、top、border</code>等等</p></li> <li><p>使DOM节点发生增减或者移动。</p></li> <li><p>读写offset族、scroll族和client族属性的时候，浏览器为了获取这些值，需要进行回流操作。</p></li> <li><p>调用<code>window.getComputedStyle</code>方法。</p></li></ul> <p><strong>回流过程</strong></p> <p>依照渲染流水线，触发回流的时候，如果DOM结构发生改变，则重新渲染DOM树，然后将后面的流程(包括主线程之外的任务)全部走一遍。</p> <p><img src="data:image/png;base64,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" alt="backflow"></p> <p>相当于将解析和合成的过程重新又走了一篇，开销是非常大的。</p> <h3 id="重绘"><a href="#重绘" class="header-anchor">#</a> 重绘</h3> <p><strong>触发条件</strong></p> <p>当DOM的修改导致了样式的变化，并且没有影响几何属性的时候，会导致重绘(repaint)。</p> <p><strong>重绘过程</strong></p> <p>由于没有导致DOM几何属性的变化，因此元素的位置信息不需要更新，从而省去布局的过程。流程如下：</p> <p><img src="data:image/png;base64,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" alt="repaint"></p> <p>跳过了生成布局树和建图层树的阶段，直接生成绘制列表，然后继续进行分块、生成位图等后面一系列操作。</p> <p>可以看到，重绘不一定导致回流，但回流一定发生了重绘。</p> <h3 id="合成"><a href="#合成" class="header-anchor">#</a> 合成</h3> <p>还有一种情况，是直接合成。</p> <p>比如利用CSS3的<code>transform、opacity、filter</code>这些属性就可以实现合成的效果，也就是常说的<strong>GPU加速</strong>。</p> <p><strong>GPU加速的原因</strong></p> <p>在合成的情况下，会直接跳过布局和绘制流程，直接进入非主线程处理的部分，即直接交给合成线程处理。交给它处理有两大好处:</p> <ol><li><p>能够充分发挥GPU的优势。合成线程生成位图的过程中会调用线程池，并在其中使用GPU进行加速生成，而GPU是擅长处理位图数据的。</p></li> <li><p>没有占用主线程的资源，即使主线程卡住了，效果依然能够流畅地展示。</p></li></ol> <h2 id="实践意义"><a href="#实践意义" class="header-anchor">#</a> 实践意义</h2> <p>知道上面的原理之后，对于开发过程有什么指导意义呢？</p> <ul><li>避免频繁使用style，而是采用修改class的方式。</li> <li>使用createDocumentFragment进行批量的DOM操作。</li> <li>对于resize、scroll等进行防抖/节流处理。</li> <li>添加<code>will-change: transform</code>，让渲染引擎为其单独实现一个图层，当这些变换发生时，仅仅只是利用合成线程去处理这些变换，而不牵扯到主线程，大大提高渲染效率。当然这个变化不限于transform，任何可以实现合成效果的CSS属性都能用will-change来声明。这里有一个实际的例子，一行<code>will-change: transform</code>拯救一个项目，<a href="https://juejin.cn/post/6844903966573068301" target="_blank" rel="noopener noreferrer">点击直达<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <blockquote><p>参考文档： <a href="https://juejin.cn/post/6844904021308735502" target="_blank" rel="noopener noreferrer">谈谈你对重绘和回流的理解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>;</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/browser/basics/url/" class="prev">
        从输入URL到页面呈现发生了什么
      </a></span> <span class="next"><a href="/browser/basics/safe/">
        安全策略
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5fc96bdf.js" defer></script><script src="/assets/js/2.56cd01f5.js" defer></script><script src="/assets/js/16.1365c67d.js" defer></script>
  </body>
</html>
